==============
Http 工具类
==============


+-------------+----------+
|属性         |值        |
+=============+==========+
|命名空间     |fize\\net |
+-------------+----------+
|类名         |Http      |
+-------------+----------+


:方法:


+------------------------+----------------------------------+
|方法名                  |说明                              |
+========================+==================================+
|`__construct()`_        |初始化                            |
+------------------------+----------------------------------+
|`getLastErrCode()`_     |获取最后的错误代码                |
+------------------------+----------------------------------+
|`getLastErrMsg()`_      |获取最后的错误描述                |
+------------------------+----------------------------------+
|`getLastInfo()`_        |获取最后的信息列表                |
+------------------------+----------------------------------+
|`getHttpCode()`_        |获取最后的HTTP状态码              |
+------------------------+----------------------------------+
|`getResponse()`_        |返回最后的响应内容                |
+------------------------+----------------------------------+
|`getResponseHeaders()`_ |返回最后的响应头                  |
+------------------------+----------------------------------+
|`getResponseBody()`_    |返回最后的响应主体内容            |
+------------------------+----------------------------------+
|`addRequestHeader()`_   |添加请求头                        |
+------------------------+----------------------------------+
|`addRequestHeaders()`_  |批量添加请求头                    |
+------------------------+----------------------------------+
|`addOption()`_          |添加CURL选项                      |
+------------------------+----------------------------------+
|`addOptions()`_         |批量添加CURL选项                  |
+------------------------+----------------------------------+
|`reset()`_              |为下一次HTTP请求做准备            |
+------------------------+----------------------------------+
|`send()`_               |底层发起 HTTP 请求                |
+------------------------+----------------------------------+
|`get()`_                |GET 请求                          |
+------------------------+----------------------------------+
|`post()`_               |POST 请求                         |
+------------------------+----------------------------------+
|`options()`_            |OPTIONS 请求                      |
+------------------------+----------------------------------+
|`head()`_               |HEAD 请求                         |
+------------------------+----------------------------------+
|`delete()`_             |DELETE 请求                       |
+------------------------+----------------------------------+
|`patch()`_              |PATCH 请求                        |
+------------------------+----------------------------------+
|`put()`_                |PUT 请求                          |
+------------------------+----------------------------------+
|`trace()`_              |TRACE 请求                        |
+------------------------+----------------------------------+
|`move()`_               |MOVE 请求                         |
+------------------------+----------------------------------+
|`copy()`_               |COPY 请求                         |
+------------------------+----------------------------------+
|`link()`_               |LINK 请求                         |
+------------------------+----------------------------------+
|`unlink()`_             |UNLINK 请求                       |
+------------------------+----------------------------------+
|`wrapped()`_            |WRAPPED 请求                      |
+------------------------+----------------------------------+


方法
======
__construct()
-------------
初始化

.. code-block:: php

  public function __construct (
      string $cookie_dir = null,
      int $time_out = 30,
      int $retries = 1
  )


:参数:
  +-----------+--------------------------------------------------------------------+
  |名称       |说明                                                                |
  +===========+====================================================================+
  |cookie_dir |指定保存COOKIE文件的路径，默认null表示不使用COOKIE                  |
  +-----------+--------------------------------------------------------------------+
  |time_out   |设定超时时间,默认30秒                                               |
  +-----------+--------------------------------------------------------------------+
  |retries    |curl重试次数                                                        |
  +-----------+--------------------------------------------------------------------+
  
  


getLastErrCode()
----------------
获取最后的错误代码

.. code-block:: php

  public function getLastErrCode () : int



getLastErrMsg()
---------------
获取最后的错误描述

.. code-block:: php

  public function getLastErrMsg () : string



getLastInfo()
-------------
获取最后的信息列表

.. code-block:: php

  public function getLastInfo () : array



getHttpCode()
-------------
获取最后的HTTP状态码

.. code-block:: php

  public function getHttpCode () : int



getResponse()
-------------
返回最后的响应内容

.. code-block:: php

  public function getResponse () : string



getResponseHeaders()
--------------------
返回最后的响应头

.. code-block:: php

  public function getResponseHeaders (
       $key = null
  ) : mixed


:参数:
  +-------+-----------------------------------------------------+
  |名称   |说明                                                 |
  +=======+=====================================================+
  |key    |string 如果传入该值则返回该响应头键值                |
  +-------+-----------------------------------------------------+
  
  


getResponseBody()
-----------------
返回最后的响应主体内容

.. code-block:: php

  public function getResponseBody () : string



addRequestHeader()
------------------
添加请求头

.. code-block:: php

  public function addRequestHeader (
      string $key,
      mixed $value
  )


:参数:
  +-------+-------+
  |名称   |说明   |
  +=======+=======+
  |key    |键名   |
  +-------+-------+
  |value  |键值   |
  +-------+-------+
  
  


addRequestHeaders()
-------------------
批量添加请求头

.. code-block:: php

  public function addRequestHeaders (
      array $headers
  )


:参数:
  +--------+----------------------+
  |名称    |说明                  |
  +========+======================+
  |headers |要添加的请求头        |
  +--------+----------------------+
  
  


addOption()
-----------
添加CURL选项

.. code-block:: php

  public function addOption (
      mixed $key,
      mixed $value
  )


:参数:
  +-------+-------+
  |名称   |说明   |
  +=======+=======+
  |key    |键名   |
  +-------+-------+
  |value  |键值   |
  +-------+-------+
  
  


addOptions()
------------
批量添加CURL选项

.. code-block:: php

  public function addOptions (
      array $options
  )


:参数:
  +--------+-----------+
  |名称    |说明       |
  +========+===========+
  |options |CURL选项   |
  +--------+-----------+
  
  


reset()
-------
为下一次HTTP请求做准备

.. code-block:: php

  public function reset ()



send()
------
底层发起 HTTP 请求

.. code-block:: php

  public function send (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : mixed


:参数:
  +-------------+----------------------------------------+
  |名称         |说明                                    |
  +=============+========================================+
  |url          |指定URL                                 |
  +-------------+----------------------------------------+
  |headers      |设置请求头                              |
  +-------------+----------------------------------------+
  |opts         |设置CURL选项                            |
  +-------------+----------------------------------------+
  |domain_empty |指明该链接是否是无主域链接              |
  +-------------+----------------------------------------+
  
  

:返回值:
  成功时返回主体内容，失败时返回false


get()
-----
GET 请求

.. code-block:: php

  public static function get (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |附加的文件头                      |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


::

    如果有GET参数需要附加请自行构建最终URL


post()
------
POST 请求

.. code-block:: php

  public static function post (
      string $url,
      mixed $data,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+------------------------------------------------+
  |名称         |说明                                            |
  +=============+================================================+
  |url          |指定链接                                        |
  +-------------+------------------------------------------------+
  |data         |可以是数组(推荐)或者请求字符串。                |
  +-------------+------------------------------------------------+
  |headers      |设定请求头设置                                  |
  +-------------+------------------------------------------------+
  |opts         |参数配置数组                                    |
  +-------------+------------------------------------------------+
  |domain_empty |该链接是否是无主域链接                          |
  +-------------+------------------------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


options()
---------
OPTIONS 请求

.. code-block:: php

  public static function options (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |设定请求头设置                    |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


head()
------
HEAD 请求

.. code-block:: php

  public static function head (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |设定请求头设置                    |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


delete()
--------
DELETE 请求

.. code-block:: php

  public static function delete (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |设定请求头设置                    |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


patch()
-------
PATCH 请求

.. code-block:: php

  public static function patch (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |设定请求头设置                    |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


put()
-----
PUT 请求

.. code-block:: php

  public static function put (
      string $url,
      mixed $data = "",
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+------------------------------------------------+
  |名称         |说明                                            |
  +=============+================================================+
  |url          |指定链接                                        |
  +-------------+------------------------------------------------+
  |data         |可以是数组(推荐)或者请求字符串。                |
  +-------------+------------------------------------------------+
  |headers      |设定请求头设置                                  |
  +-------------+------------------------------------------------+
  |opts         |参数配置数组                                    |
  +-------------+------------------------------------------------+
  |domain_empty |该链接是否是无主域链接                          |
  +-------------+------------------------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


trace()
-------
TRACE 请求

.. code-block:: php

  public static function trace (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |设定请求头设置                    |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


move()
------
MOVE 请求

.. code-block:: php

  public static function move (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |设定请求头设置                    |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


copy()
------
COPY 请求

.. code-block:: php

  public static function copy (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |设定请求头设置                    |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


link()
------
LINK 请求

.. code-block:: php

  public static function link (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |设定请求头设置                    |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


unlink()
--------
UNLINK 请求

.. code-block:: php

  public static function unlink (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |设定请求头设置                    |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


wrapped()
---------
WRAPPED 请求

.. code-block:: php

  public static function wrapped (
      string $url,
      array $headers = [],
      array $opts = [],
      bool $domain_empty = false
  ) : string


:参数:
  +-------------+----------------------------------+
  |名称         |说明                              |
  +=============+==================================+
  |url          |指定链接                          |
  +-------------+----------------------------------+
  |headers      |设定请求头设置                    |
  +-------------+----------------------------------+
  |opts         |参数配置数组                      |
  +-------------+----------------------------------+
  |domain_empty |该链接是否是无主域链接            |
  +-------------+----------------------------------+
  
  

:返回值:
  返回响应内容，失败是返回false


